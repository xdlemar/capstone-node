{
  "devDependencies": {
    "concurrently": "^9.2.1",
    "cross-env": "^7.0.3",
    "dotenv": "^16.4.5",
    "dotenv-cli": "^7.4.1",
    "jest": "^29.7.0",
    "prisma": "^6.15.0",
    "supertest": "^7.1.4",
    "wait-on": "^7.2.0"
  },
  "dependencies": {
    "@prisma/client": "^6.15.0",
    "jsonwebtoken": "^9.0.2"
  },
  "scripts": {
    "pretest": "node tests/seedInventory.js",
    "test": "cross-env NODE_ENV=test jest --runInBand --testTimeout=60000",

    "gen:clients": "npx prisma generate --schema=inventory-svc/prisma/schema.prisma && npx prisma generate --schema=procurement-svc/prisma/schema.prisma && npx prisma generate --schema=auth-svc/prisma/schema.prisma",

    "db:migrate": "dotenv -e tests/.env.test -- npx prisma migrate deploy --schema=inventory-svc/prisma/schema.prisma && dotenv -e tests/.env.test -- npx prisma migrate deploy --schema=procurement-svc/prisma/schema.prisma && dotenv -e tests/.env.test -- npx prisma migrate deploy --schema=auth-svc/prisma/schema.prisma",

    "start:ci": "concurrently -k -s first -n inv,proc,auth,gw -c green,magenta,yellow,blue \"node inventory-svc/src/server.js\" \"node procurement-svc/src/server.js\" \"node auth-svc/src/server.js\" \"node gateway/src/index.js\"",

    "wait:ci": "wait-on -t 60000 http://localhost:4001/health http://localhost:4002/health http://localhost:4000/health http://localhost:8080/health",

    "smoke": "node tests/smoke.js"
  }
}
